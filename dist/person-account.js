webpackJsonp([20],{104:function(t,a,e){"use strict";function s(t){e(323)}Object.defineProperty(a,"__esModule",{value:!0});var o=e(325),i=e(326),n=e(14),r=s,p=n(o.a,i.a,!1,r,"data-v-2119b334",null);a.default=p.exports},207:function(t,a,e){"use strict";function s(t){e(208)}var o=e(210),i=e(211),n=e(14),r=s,p=n(o.a,i.a,!1,r,"data-v-02d157ee",null);a.a=p.exports},208:function(t,a,e){var s=e(209);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e(13)("27ea8926",s,!0)},209:function(t,a,e){a=t.exports=e(1)(void 0),a.push([t.i,".password[data-v-02d157ee]{position:relative;display:flex;flex-direction:column;align-items:center;width:356px;height:360px;background:#fff;box-shadow:0 0 24px 0 rgba(0,0,0,.12),0 24px 24px 0 rgba(0,0,0,.24);border-radius:4px}.password>.title[data-v-02d157ee]{color:#ec6337;margin-top:40px;margin-bottom:10px}.password>.phone[data-v-02d157ee]{color:#666;font-size:12px}.password .back[data-v-02d157ee]{display:flex;align-items:center;width:320px;height:40px;font-size:12px;color:#666;white-space:pre-wrap}.password .back span[data-v-02d157ee]{cursor:pointer}.password .input-container[data-v-02d157ee]{position:relative;width:320px;margin-top:12px}.password .input-container .normalSize[data-v-02d157ee],.password .input-container input[data-v-02d157ee]{width:320px;height:40px;border:1px solid #d8d8d8;outline:none;box-sizing:border-box;border-radius:4px}.password .input-container input[data-v-02d157ee]{font-size:12px;color:#333;padding-left:8px}.password .input-container[data-v-02d157ee] ::-moz-placeholder{color:#999}.password .input-container[data-v-02d157ee] ::-webkit-input-placeholder{color:#999}.password .input-container .check-button[data-v-02d157ee]{width:320px;height:40px;border:1px solid #d8d8d8;outline:none;box-sizing:border-box;border-radius:4px;position:absolute;right:0;top:0;width:98px;color:#ec6337;border:0;background:transparent}.password .input-container .mark[data-v-02d157ee],.password .input-container>span[data-v-02d157ee]:not(.el-cascader){position:absolute;right:-14px;top:10px;margin-left:8px;color:#ec6337}.password>button[data-v-02d157ee]{width:320px;height:40px;border:0;margin-top:40px;outline:none;background:#ec6337;color:#fff}.password .p-close[data-v-02d157ee]{position:absolute;right:10px;top:10px;width:30px;height:30px;background:url(/static/img/icon_close.png) 0 0/30px 30px no-repeat;border-radius:15px;cursor:pointer}",""])},210:function(t,a,e){"use strict";var s=e(8),o=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t};a.a={props:["title","action"],data:function(){return{inputData:{sms_code:"",password:"",checkPassword:""},checkStr:"获取验证码",isLoop:!1,loopTime:60,checkLoop:null}},computed:o({},s.a.mapState(["userInfo"]),{submitReq:function(){return{password:this.inputData.password,sms_code:this.inputData.sms_code}},placeholder:function(){var t="新密码（6位以上数字或字母）";return this.isPays&&(t="设置提现密码（6位以上数字或字母）"),t},checkPlaceholder:function(){var t="确认密码（6位以上数字或字母）";return this.isPays&&(t="确认提现密码（6位以上数字或字母）"),t},isPays:function(){return"pays"===this.action}}),mounted:function(){},methods:{aCertificationCode:function(){var t=this;this.isLoop||(this.isLoop=!0,axios.get("/community/base/sms_code",{params:{action:this.action}}).then(function(a){t.checkStr=t.loopTime+"s",t.checkLoop=setInterval(function(){t.checkStr=--t.loopTime+"s",t.loopTime<1&&(t.loopTime=60,t.checkStr="获取验证码",t.isLoop=!1,clearInterval(t.checkLoop))},1e3)}))},submit:function(){var t=this,a=this.inputData;if(a.sms_code.length<1)return alert("请输入验证码"),void this.$message({message:"请输入验证码",type:"error"});if(a.password.length<1)return void this.$message({message:"请输入密码",type:"error"});if(a.checkPassword!==a.password)return void this.$message({message:"请输入相同的确认密码",type:"error"});var e="/community/user/find_pwd",s="修改密码成功";this.isPays&&(e="/account/payspwd/modify",s="设置提现密码成功"),axios.post(e,this.submitReq).then(function(a){1===a.data.code?(t.$message({message:s,type:"success"}),t.close()):alert(a.data.msg)})},close:function(){this.$emit("close")}}}},211:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"password"},[e("span",{staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),e("span",{staticClass:"phone"},[t._v("验证码发送至 "+t._s(t.userInfo.username))]),t._v(" "),e("div",{staticClass:"input-container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputData.sms_code,expression:"inputData.sms_code"}],attrs:{placeholder:"验证码"},domProps:{value:t.inputData.sms_code},on:{input:function(a){a.target.composing||t.$set(t.inputData,"sms_code",a.target.value)}}}),t._v(" "),e("button",{staticClass:"check-button",domProps:{textContent:t._s(t.checkStr)},on:{click:t.aCertificationCode}})]),t._v(" "),e("div",{staticClass:"input-container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputData.password,expression:"inputData.password"}],attrs:{placeholder:t.placeholder,type:"password"},domProps:{value:t.inputData.password},on:{input:function(a){a.target.composing||t.$set(t.inputData,"password",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"input-container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputData.checkPassword,expression:"inputData.checkPassword"}],attrs:{placeholder:t.checkPlaceholder,type:"password"},domProps:{value:t.inputData.checkPassword},on:{input:function(a){a.target.composing||t.$set(t.inputData,"checkPassword",a.target.value)}}})]),t._v(" "),e("button",{on:{click:t.submit}},[t._v("确认")]),t._v(" "),e("div",{staticClass:"p-close",on:{click:t.close}})])},o=[],i={render:s,staticRenderFns:o};a.a=i},323:function(t,a,e){var s=e(324);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e(13)("511a7586",s,!0)},324:function(t,a,e){a=t.exports=e(1)(void 0),a.push([t.i,".account[data-v-2119b334]{width:100%;height:100%;padding:0 40px}.account>div[data-v-2119b334]:not(.password-container){display:flex;align-items:center;height:20px;margin-top:20px;font-size:14px;color:#666}.account>div:not(.password-container)>span[data-v-2119b334]:first-child{margin-left:15px;padding-right:4px}.account>div:not(.password-container)>span[data-v-2119b334]:nth-child(2){padding-left:4px;border-left:1px solid #d8d8d8}.account .title[data-v-2119b334]{color:#333;font-weight:800}.account .util[data-v-2119b334]{color:#ec6337;cursor:pointer}.account .uploaded[data-v-2119b334]{display:inline-block;width:40px;height:40px;background:url(/static/img/spirit.png) 0 -520px/40px auto no-repeat;cursor:default}.account .uploading[data-v-2119b334]{cursor:default}.account .file[data-v-2119b334]{visibility:hidden}.account .password-container[data-v-2119b334]{position:fixed;top:0;bottom:0;left:0;right:0;display:flex;justify-content:center;align-items:center;background:transparent}",""])},325:function(t,a,e){"use strict";var s=e(207),o=e(8),i=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t};a.a={components:{Password:s.a},data:function(){return{isUploading:!1,passwordShow:!1,pTitle:"手机验证修改密码",pAction:"changepwd"}},computed:i({},o.a.mapState(["userInfo"])),mounted:function(){},methods:i({},o.a.mapActions(["aUserInfo"]),{showPassword:function(){this.passwordShow=!0,this.pTitle="手机验证修改密码",this.pAction="changepwd"},showPayPassword:function(){this.passwordShow=!0,this.pTitle="设置提现密码",this.pAction="pays"},closePassword:function(){this.passwordShow=!1},preLoad:function(){this.$refs.file.click()},changeFile:function(t){var a=this;if(!this.isUploading){this.isUploading=!0;var e=new FormData;e.append("action","license"),e.append("file_name","file"),e.append("file",t.target.files[0]);var s={headers:{"Content-Type":"multipart/form-data"}};axios.post("/community/file/uploads",e,s).then(function(t){a.isUploading=!1,a.haveUploaded=!0,a.aUserInfo()})}}})}},326:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"account"},[e("div",{staticClass:"title"},[t._v("账户管理")]),t._v(" "),e("div",[t._v("登录账号："),e("span",[t._v(t._s(t.userInfo.username))])]),t._v(" "),e("div",[t._v("登录密码："),e("span",[t._v(t._s(t.userInfo.pwd))]),e("span",{staticClass:"util",on:{click:t.showPassword}},[t._v("修改登录密码")])]),t._v(" "),e("div",[t._v("提现密码："),e("span",[t._v(t._s(t.userInfo.pays_pwd))]),e("span",{staticClass:"util",on:{click:t.showPayPassword}},[t._v("设置提现密码")])]),t._v(" "),e("div",[t._v("用户姓名："),e("span",[t._v(t._s(t.userInfo.full_name))])]),t._v(" "),e("div",[t._v("公司名称："),e("span",[t._v(t._s(t.userInfo.company))])]),t._v(" "),e("div",[t._v("所在城市："),e("span",[t._v(t._s(t.userInfo.area_cn))])]),t._v(" "),e("div",[t._v("公司类型："),e("span",[t._v(t._s(t.userInfo.company_type))])]),t._v(" "),e("div",[t._v("\n    营业执照："),t.userInfo.has_license?e("div",{staticClass:"util uploaded"}):t._e(),t.isUploading?e("span",{staticClass:"util uploading"},[t._v("正在上传...")]):t._e(),t.userInfo.has_license||t.isUploading?t._e():e("span",{staticClass:"util",on:{click:t.preLoad}},[t._v("立即上传")]),t._v(" "),e("input",{ref:"file",staticClass:"file",attrs:{type:"file",name:"business-license",value:"立即上传"},on:{change:t.changeFile}})]),t._v(" "),t.passwordShow?e("div",{staticClass:"password-container"},[e("Password",{attrs:{title:t.pTitle,action:t.pAction},on:{close:t.closePassword}})],1):t._e()])},o=[],i={render:s,staticRenderFns:o};a.a=i}});